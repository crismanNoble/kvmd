<html>
<head>
<meta charset="utf-8">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<script src="js/jquery.js"></script>
	<script src="js/underscore.js"></script>
	<script src="js/handlebars.js"></script>
	<script src="js/tmdb.js"></script>

	<script src="js/theseeds.js"></script>

	<script id="result-titles" type="text/x-handlebars-template">
		{{#each titles}}

	 		<div data-index="{{index}}" data-tmdb="{{tmdb_id}}" class="row {{dataQuality imdb_id year}}">

		    <div class="year cell">
		    	{{#equalTo year 0}}
					<p class="content">????</p>
		    	{{else}}
		    	<p class="content">{{year}}</p>
		    	{{/equalTo}}
	  		</div>
	  		<div class="title cell">
		    	<p class="content">{{title}}</p>
	  		</div>
	  		<div class="tmdb cell">
		    	<a href="https://www.themoviedb.org/movie/{{tmdb_id}}" target="_blank">{{tmdb_id}}</a>
	  		</div>
	  		<div class="imdb cell">
		    	<a href="http://www.imdb.com/title/{{imdb_id}}/" target="_blank">{{imdb_id}}</a>
	  		</div>

	  		<div class="quantity cell">
		    	<button class="dvdminus tool" data-action="update" data-index="{{index}}" data-value="dvd" data-modifier="subtract">-</button>
		    	dvd:<span class="dvd">{{dvd}}</span>
		    	<button class="dvdplus tool" data-action="update" data-index="{{index}}" data-value="dvd" data-modifier="add">+</button>

		    </div>
		    <div class="quantity cell">
		    	<button class="bluminus tool" data-action="update" data-index="{{index}}" data-value="blu" data-modifier="subtract">-</button>
		    	blu:<span class="blu">{{blu}}</span>
		    	<button class="bluplus tool" data-action="update" data-index="{{index}}" data-value="blu" data-modifier="add">+</button>

		    </div>
		    <div class="tools cell">
	 				<button class="killit tool" data-action="remove" data-index="{{index}}">remove</button>
	 			</div>

			</div>

		{{/each}}
	</script>
	<script src="js/app3.js"></script>

	<style>
	* {
		font-family: monospace;
	}
	p {
		margin: 0;
	}
	.cell {
		padding: 0 5px;

	}

	.row {
		padding: 2px;
		border-top: 1px solid black;
	}
	.row {
		overflow: auto;
	}
	.cell {
		float: left;
	}

	</style>

</head>
<body>
<h1>Titles (<span id="count">...</span>)</h1>
<p> sort by: <a href="#" class="sorter" data-sortby="entered">entered</a> <a href="#" class="sorter" data-sortby="year">year</a> <a href="#" class="sorter" data-sortby="title">title</a> show only: <a href="#" class="filter" data-filterby="missing">missing data</a> <a href="#" class="filter" data-filterby="duplicates">duplicates</a> <a href="#" class="filter" data-filterby="zero">zero quantity</a>
<br/><br/>
</p>
<div id="titles"></div>

<div>
todo:

wire up remove, with alert
make quantity modifier better
</div>
</body>